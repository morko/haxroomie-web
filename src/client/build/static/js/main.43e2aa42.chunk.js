(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{100:function(e,a,t){},103:function(e,a,t){},104:function(e,a,t){},105:function(e,a,t){},131:function(e,a){},135:function(e,a,t){"use strict";t.r(a);var n=t(0),o=t.n(n),r=t(22),l=t.n(r),i=(t(82),t(23)),s=t(8),c=t(9),u=t(11),m=t(10),d=t(12),p=t(162),h=t(155),g=t(141),f=t(6),E=t(139),b=t(140),C=t(142),y=t(143),O=t(144),v=t(145),P=t(69),w=t(169),k=t(146),S=t(147),A=t(148),j=t(67),R=t.n(j),N=t(168),I=t(136),M=t(137),L=t(138),T=t(1),B=t.n(T),x=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).handleYes=t.handleYes.bind(Object(f.a)(t)),t.handleNo=t.handleNo.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"handleYes",value:function(){this.props.onYes(),this.props.toggleShow()}},{key:"handleNo",value:function(){this.props.toggleShow()}},{key:"render",value:function(){return o.a.createElement(N.a,{className:"ConfirmationModal",isOpen:this.props.show,toggle:this.props.toggleShow},o.a.createElement(I.a,{toggle:this.props.toggleShow},"Confirmation needed."),o.a.createElement(M.a,null,this.props.question),o.a.createElement(L.a,null,o.a.createElement(P.a,{color:"primary",onClick:this.handleYes},"Yes")," ",o.a.createElement(P.a,{color:"secondary",onClick:this.handleNo},"No")))}}]),a}(n.Component);N.a.propTypes={show:B.a.bool,toggleShow:B.a.func,question:B.a.string,onYes:B.a.func};t(96);var G=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(f.a)(t)),t.handleCloseRoom=t.handleCloseRoom.bind(Object(f.a)(t)),t.toggleConfirmation=t.toggleConfirmation.bind(Object(f.a)(t)),t.state={isOpen:!1,showConfirmation:!1},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"toggle",value:function(){this.setState({isOpen:!this.state.isOpen})}},{key:"toggleConfirmation",value:function(){this.setState(function(e){return{showConfirmation:!e.showConfirmation}})}},{key:"handleCloseRoom",value:function(){this.props.closeRoom()}},{key:"logOut",value:function(){window.location="/logout"}},{key:"render",value:function(){return o.a.createElement("header",{className:"Header"},o.a.createElement(E.a,{className:"Header-navbar",color:"dark",dark:!0,expand:"md"},o.a.createElement(b.a,{href:"/"},o.a.createElement("img",{src:R.a,className:"Header-logo",alt:"logo"})),o.a.createElement(g.a,{className:"d-none d-sm-inline"},this.props.title),o.a.createElement(C.a,{onClick:this.toggle}),o.a.createElement(y.a,{isOpen:this.state.isOpen,navbar:!0},o.a.createElement(O.a,{className:"ml-auto",navbar:!0},this.props.closeRoom&&o.a.createElement(v.a,null,o.a.createElement(P.a,{className:"Header-close-room",outline:!0,color:"danger",onClick:this.toggleConfirmation},"Close room")),this.props.userProfile&&o.a.createElement(w.a,{nav:!0,inNavbar:!0},o.a.createElement("div",{className:"Header-user btn btn-outline-secondary"},o.a.createElement(k.a,{nav:!0,caret:!0},this.props.userProfile.name)),o.a.createElement(S.a,{right:!0},o.a.createElement(A.a,{onClick:this.logOut},"Log out"))))),o.a.createElement(x,{show:this.state.showConfirmation,question:"Are you sure you want to close the room?",onNo:this.toggleConfirmation,onYes:this.handleCloseRoom,toggleShow:this.toggleConfirmation})))}}]),a}(n.Component),D=G;G.defaultProps={title:"Haxroomie"};var F=t(149),H=t(150),U=t(151),J=t(152),Y=t(153);t(97);function z(e){var a=e.player,t=e.adminPlayer,n=e.unadminPlayer;return o.a.createElement(P.a,{className:"AdminButton",onClick:a.admin?function(){return n(a.id)}:function(){return t(a.id)},size:"sm",color:a.admin?"primary":"secondary"},a.admin?"Unadmin":"Admin")}function V(e){var a=e.playerList,t=e.kickPlayer,n=e.banPlayer,r=e.adminPlayer,l=e.unadminPlayer,i=a.map(function(e){return o.a.createElement("tr",{key:e.id,className:"PlayerTableRow"},o.a.createElement("th",{scope:"row"},e.id),o.a.createElement("td",null,e.name),o.a.createElement("td",{className:"text-right"},0!==e.id&&o.a.createElement(F.a,null,o.a.createElement(z,{player:e,adminPlayer:r,unadminPlayer:l}),o.a.createElement(P.a,{onClick:function(){t(e.id)},size:"sm",color:"warning"},"Kick"),o.a.createElement(P.a,{onClick:function(){return n(e.id)},size:"sm",color:"danger"},"Ban"))))});return o.a.createElement(H.a,{size:"md",className:"PlayerTable"},o.a.createElement("thead",null,o.a.createElement("tr",null,o.a.createElement("th",{style:{width:"15%"},scope:"col"},"#"),o.a.createElement("th",{style:{width:"45%"},scope:"col"},"Player"),o.a.createElement("th",{style:{width:"40%"},scope:"col",className:"text-right"},"Controls"))),o.a.createElement("tbody",{className:"PlayerTable"},i))}var K=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).handleClearBans=t.handleClearBans.bind(Object(f.a)(t)),t.toggleConfirmation=t.toggleConfirmation.bind(Object(f.a)(t)),t.state={showConfirmation:!1},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.getPlayers()}},{key:"toggleConfirmation",value:function(){this.setState(function(e){return{showConfirmation:!e.showConfirmation}})}},{key:"handleClearBans",value:function(){this.props.clearBans()}},{key:"render",value:function(){return o.a.createElement("div",{className:"PlayerTableCard Card"},o.a.createElement(U.a,{color:"dark"},o.a.createElement(J.a,{className:"text-white"},"Players"),o.a.createElement(Y.a,{className:"bg-light"},o.a.createElement(P.a,{color:"danger",size:"sm",className:"float-right",onClick:this.toggleConfirmation},"Clear bans"),o.a.createElement(V,{playerList:this.props.playerList,kickPlayer:this.props.kickPlayer,banPlayer:this.props.banPlayer,adminPlayer:this.props.adminPlayer,unadminPlayer:this.props.unadminPlayer}))),o.a.createElement(x,{show:this.state.showConfirmation,question:"Are you sure you want to clear all bans from the room?",onNo:this.toggleConfirmation,onYes:this.handleClearBans,toggleShow:this.toggleConfirmation}))}}]),a}(n.Component),Z=t(157),W=t(154),Q=t(156);t(98);function _(e){return o.a.createElement(P.a,{className:"SmallButton",size:"sm",outline:!0,color:"secondary",onClick:e.onClick,style:e.style},e.children)}var X=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={showPassword:!1},t.toggleShowPassword=t.toggleShowPassword.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"toggleShowPassword",value:function(){this.setState(function(e){return{showPassword:!e.showPassword}})}},{key:"render",value:function(){return o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{sm:"10"},this.props.label),o.a.createElement(g.a,{sm:"2"},o.a.createElement(_,{onClick:this.toggleShowPassword,style:{float:"right"}},this.state.showPassword?"hide":"show"))),o.a.createElement(h.a,null,o.a.createElement(g.a,{xsm:"12"},o.a.createElement(Q.a,{type:this.state.showPassword?"text":"password",value:this.props.password,disabled:!0}))))}}]),a}(n.Component);X.defaultProps={label:"Password:"};var q=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={showPassword:!1,showAdminPassword:!1},t.toggleShowPassword=t.toggleShowPassword.bind(Object(f.a)(t)),t.toggleShowAdminPassword=t.toggleShowAdminPassword.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"toggleShowPassword",value:function(){this.setState(function(e){return{showPassword:!e.showPassword}})}},{key:"toggleShowAdminPassword",value:function(){this.setState(function(e){return{showAdminPassword:!e.showAdminPassword}})}},{key:"render",value:function(){return o.a.createElement("div",{className:"RoomInfoCard Card"},o.a.createElement(U.a,{color:"dark"},o.a.createElement(J.a,{className:"text-white"},"Room Info"),o.a.createElement(Z.a,null,o.a.createElement(W.a,null,o.a.createElement("a",{href:this.props.roomInfo.roomLink,className:"m-0"},this.props.roomInfo.roomLink)),o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"3",sm:"4"},"Room name:"),o.a.createElement(g.a,{xs:"9",sm:"8"},this.props.roomInfo.roomName))),o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"3",sm:"4"},"Host name:"),o.a.createElement(g.a,{xs:"9",sm:"8"},this.props.roomInfo.playerName))),o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"3",sm:"4"},"Max players:"),o.a.createElement(g.a,{xs:"9",sm:"8"},this.props.roomInfo.maxPlayers))),o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"3",sm:"4"},"Public:"),o.a.createElement(g.a,{xs:"9",sm:"8"},this.props.roomInfo.public?"yes":"no"))),this.props.roomInfo.password&&o.a.createElement(X,{password:this.props.roomInfo.password}),this.props.roomInfo.hostPassword&&o.a.createElement(X,{label:"Host password:",password:this.props.roomInfo.hostPassword}),this.props.roomInfo.adminPassword&&o.a.createElement(X,{label:"Admin password:",password:this.props.roomInfo.adminPassword}))))}}]),a}(n.Component),$=(t(99),t(15)),ee=t(19),ae=t(158),te=t(159),ne=t(160),oe=t(161);function re(e,a,t){return e?Object.keys(e).map(function(n){var r=e[n];return"boolean"===typeof r?o.a.createElement(ae.a,{key:n,check:!0},o.a.createElement(te.a,{check:!0},o.a.createElement(Q.a,{type:"checkbox",defaultChecked:r,disabled:t})," ",n)):"string"===typeof r?o.a.createElement(ae.a,{key:n},o.a.createElement(te.a,{for:n},n),o.a.createElement(Q.a,{type:"text",name:n,id:n,value:r,onChange:a,disabled:t})):"number"===typeof r?o.a.createElement(ae.a,{key:n},o.a.createElement(te.a,{for:n},n),o.a.createElement(Q.a,{type:"text",name:n,id:n,value:r,onChange:a,disabled:t})):"object"===typeof r?o.a.createElement(le,{key:n,objectKey:n,objectValue:r,handleOnChange:a,inputsDisabled:t}):o.a.createElement("p",null,"undefined")}):o.a.createElement("p",null,"no config")}function le(e){var a=e.objectKey,t=e.objectValue,n=e.inputsDisabled;return o.a.createElement(U.a,{className:"ObjectInput"},o.a.createElement(Y.a,null,o.a.createElement(ne.a,null,o.a.createElement("h3",null,a)),re(t,function(n,o,r){var l=n.target.name,i=n.target.value;r?(t[o]=r,e.handleOnChange(n,a,Object(ee.a)({},t,Object($.a)({},o,r)))):e.handleOnChange(n,a,Object(ee.a)({},t,Object($.a)({},l,i)))},n)))}var ie=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={object:{},inputsDisabled:!1},t.handleOnChange=t.handleOnChange.bind(Object(f.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.props.object&&this.setState({object:this.props.object,inputsDisabled:this.props.inputsDisabled})}},{key:"handleOnChange",value:function(e,a,t){this.setState(function(e){return{object:Object(ee.a)({},e.object,Object($.a)({},a,t))}})}},{key:"handleSubmit",value:function(e){this.props.onSubmit&&this.props.onSubmit(e,this.state.object)}},{key:"render",value:function(){var e=this.state.object,a=this.props.children,t=this.handleSubmit,n=re(e,this.handleOnChange,this.state.inputsDisabled);return o.a.createElement(U.a,null,o.a.createElement(Y.a,null,o.a.createElement(oe.a,{onSubmit:t},a,n)))}}]),a}(n.Component);function se(e){var a=e.pluginName,t=e.isEnabled,n=e.enablePlugin,r=e.disablePlugin;return o.a.createElement(P.a,{className:"PluginEnableButton",onClick:t?function(){return r(a)}:function(){return n(a)},size:"sm",color:t?"primary":"secondary"},t?"Disable":"Enable")}var ce=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).handleConfigSubmit=t.handleConfigSubmit.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"handleConfigSubmit",value:function(e,a){console.error("Submitting the config is not yet supported.")}},{key:"render",value:function(){var e=this.props.config;return o.a.createElement(ie,{className:"RoomConfigForm",onSubmit:this.handleConfigSubmit,inputsDisabled:!0,object:e},o.a.createElement("h1",null,"Config"))}}]),a}(n.Component),ue=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(f.a)(t)),t.state={collapse:!1},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"render",value:function(){var e=this.props.enablePlugin,a=this.props.disablePlugin,t=this.props.isEnabled,n=this.props.name,r=this.props.author,l=this.props.dependencies,i=this.props.config;return o.a.createElement(W.a,{className:"container"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"4",md:"2"},o.a.createElement(se,{pluginName:n,isEnabled:t,enablePlugin:e,disablePlugin:a})),o.a.createElement(g.a,{xs:"6",md:"3"},n&&o.a.createElement("p",null,n),!n&&o.a.createElement("p",null,"unnamed")),o.a.createElement(g.a,{className:"d-none d-md-inline",md:"2"},r&&o.a.createElement("p",null,r),!r&&o.a.createElement("p",null,"no author")),o.a.createElement(g.a,{className:"d-none d-md-inline",md:"4"},l&&o.a.createElement("p",null,l.join(", ")),!l&&o.a.createElement("p",{style:{color:"grey"}},"no dependencies")),o.a.createElement(g.a,{xs:"2",md:"1"},i&&o.a.createElement(P.a,{className:"dropdown-toggle",color:"primary",onClick:this.toggle}))),o.a.createElement(y.a,{isOpen:this.state.collapse},i&&o.a.createElement(h.a,null,o.a.createElement(g.a,null,o.a.createElement(ce,{config:i})))))}}]),a}(n.Component);function me(e){var a=e.pluginList,t=e.enablePlugin,n=e.disablePlugin,r=a.map(function(e){var a=e.id,r=e.isEnabled,l=e.pluginSpec,i=l&&e.pluginSpec.name,s=l&&e.pluginSpec.author,c=l&&e.pluginSpec.dependencies,u=l&&e.pluginSpec.config;return o.a.createElement(ue,{key:a,enablePlugin:t,disablePlugin:n,isEnabled:r,name:i,author:s,dependencies:c,config:u})});return o.a.createElement(Z.a,{className:"PluginList"},o.a.createElement(W.a,{className:"container PluginList-header"},o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"4",md:"2"},o.a.createElement("p",null,"Control")),o.a.createElement(g.a,{xs:"6",md:"3"},o.a.createElement("p",null,"Name")),o.a.createElement(g.a,{className:"d-none d-md-inline",md:"2"},o.a.createElement("p",null,"Author")),o.a.createElement(g.a,{className:"d-none d-md-inline",md:"4"},o.a.createElement("p",null,"Dependencies")),o.a.createElement(g.a,{xs:"2",md:"1"}))),r)}var de=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.getPlugins()}},{key:"render",value:function(){return o.a.createElement("div",{className:"PluginsCard Card"},o.a.createElement(U.a,{color:"dark"},o.a.createElement(J.a,{className:"text-white"},"Plugins"),o.a.createElement(Y.a,{className:"bg-light"},o.a.createElement(me,{pluginList:this.props.pluginList,enablePlugin:this.props.enablePlugin,disablePlugin:this.props.disablePlugin}))))}}]),a}(n.Component),pe=(t(100),t(70)),he={backgroundImage:"url(".concat(t.n(pe).a,")")},ge=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"View DashboardView",style:he},o.a.createElement(D,{title:"Dashboard",userProfile:this.props.userProfile,closeRoom:this.props.closeRoom}),o.a.createElement(p.a,null,o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"12",lg:"6"},o.a.createElement(q,{roomInfo:this.props.roomInfo})),o.a.createElement(g.a,{xs:"12",lg:"6"},o.a.createElement(K,{playerList:this.props.playerList,getPlayers:this.props.getPlayers,kickPlayer:this.props.kickPlayer,banPlayer:this.props.banPlayer,adminPlayer:this.props.adminPlayer,unadminPlayer:this.props.unadminPlayer,clearBans:this.props.clearBans})),o.a.createElement(g.a,{xs:"12"},o.a.createElement(de,{pluginList:this.props.pluginList,getPlugins:this.props.getPlugins,enablePlugin:this.props.enablePlugin,disablePlugin:this.props.disablePlugin})))))}}]),a}(n.Component);var fe="SAVE_CONFIG";var Ee=Object(i.b)(function(e,a){return{userProfile:e.connection.userProfile,roomInfo:e.room.roomInfo,playerList:e.player.list,pluginList:e.plugin.list}},function(e){return{closeRoom:function(){return e(function(e,a){var t=a().connection.socket;t&&t.emit("client-action",{type:"CLOSE_ROOM"})})},getPlayers:function(){return e(function(e,a){var t=a().connection.socket;t&&t.emit("client-action",{type:"CALL_ROOM",payload:{fn:"getPlayerList"}})})},kickPlayer:function(a){return e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bye!";return function(t,n){var o=n().connection.socket;o&&o.emit("client-action",{type:"CALL_ROOM",payload:{fn:"kickPlayer",args:[e,a,!1]}})}}(a))},banPlayer:function(a){return e(function(e){var a=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"Bye!";return function(t,n){var o=n().connection.socket;o&&o.emit("client-action",{type:"CALL_ROOM",payload:{fn:"kickPlayer",args:[e,a,!0]}})}}(a))},adminPlayer:function(a){return e(function(e){return function(a,t){var n=t().connection.socket;n&&n.emit("client-action",{type:"CALL_ROOM",payload:{fn:"setPlayerAdmin",args:[e,!0]}})}}(a))},unadminPlayer:function(a){return e(function(e){return function(a,t){var n=t().connection.socket;n&&n.emit("client-action",{type:"CALL_ROOM",payload:{fn:"setPlayerAdmin",args:[e,!1]}})}}(a))},clearBans:function(){return e(function(e,a){var t=a().connection.socket;t&&t.emit("client-action",{type:"CALL_ROOM",payload:{fn:"clearBans"}})})},getPlugins:function(){return e(function(e,a){var t=a().connection.socket;t&&t.emit("client-action",{type:"CALL_ROOM_CONTROLLER",payload:{fn:"getPlugins"}})})},enablePlugin:function(a){return e(function(e){return function(a,t){var n=t().connection.socket;n&&n.emit("client-action",{type:"CALL_ROOM_CONTROLLER",payload:{fn:"enablePlugin",args:[e]}})}}(a))},disablePlugin:function(a){return e(function(e){return function(a,t){var n=t().connection.socket;n&&n.emit("client-action",{type:"CALL_ROOM_CONTROLLER",payload:{fn:"disablePlugin",args:[e]}})}}(a))}}})(ge),be=t(163),Ce=t(164),ye=t(165),Oe=t(166),ve=t(170),Pe=t(20),we=t(75),ke=t(71),Se=t.n(ke);t(39);function Ae(e){return o.a.createElement(ae.a,{row:!0},o.a.createElement(g.a,{sm:"12"},o.a.createElement(be.a,null,o.a.createElement(Ce.a,{color:"info",style:{marginBottom:0}},o.a.createElement("p",null,o.a.createElement(Pe.a,{icon:"info-circle",size:"2x",style:{marginRight:"0.5rem"}}),"These fields can be used as properties of",o.a.createElement("code",null," hrConfig")," object inside the HHM config."),o.a.createElement("dl",null,o.a.createElement("dt",null,"Room name"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.roomName")),o.a.createElement("dt",null,"Player name"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.playerName")),o.a.createElement("dt",null,"Max players"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.maxPlayers")),o.a.createElement("dt",null,"Password"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.password")),o.a.createElement("dt",null,"Host password"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.hostPassword")),o.a.createElement("dt",null,"Admin password"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.adminPassword")),o.a.createElement("dt",null,"Token"),o.a.createElement("dd",null,o.a.createElement("code",null,"hrConfig.token")))))))}var je=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).toggle=t.toggle.bind(Object(f.a)(t)),t.handleFileInputChange=t.handleFileInputChange.bind(Object(f.a)(t)),t.handleHHMConfigClear=t.handleHHMConfigClear.bind(Object(f.a)(t)),t.state={isOpen:t.props.isOpen,hhmConfig:t.props.hhmConfig},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState({isOpen:this.props.isOpen,hhmConfig:this.props.hhmConfig,roomScript:this.props.roomScript})}},{key:"handleFileInputChange",value:function(e){var a=e.target.name;this.setState(Object($.a)({},a,e.target.files[0].name)),this.props.handleFileInputChange(e)}},{key:"toggle",value:function(){this.setState({collapse:!this.state.collapse})}},{key:"handleHHMConfigClear",value:function(e){this.setState({hhmConfig:null}),e.target.files=[]}},{key:"render",value:function(){return o.a.createElement("div",{className:"AdvancedForm"},o.a.createElement("div",{className:"clearfix"},o.a.createElement(P.a,{className:"AdvancedForm-toggle",color:"secondary",onClick:this.toggle},"Advanced")),o.a.createElement(y.a,{isOpen:this.state.collapse},o.a.createElement(ae.a,null,o.a.createElement(te.a,{for:"hhmConfig"},o.a.createElement(Pe.a,{icon:"edit",size:"2x"})," HHM config"),o.a.createElement(ye.a,null,o.a.createElement(Oe.a,{type:"file",name:"hhmConfig",id:"hhmConfig",label:this.state.hhmConfig,onChange:this.handleFileInputChange}),o.a.createElement(ve.a,{addonType:"append"},o.a.createElement(P.a,{onClick:this.handleHHMConfigClear},"Clear")))),o.a.createElement(ae.a,{row:!0},o.a.createElement(g.a,{sm:"12"},o.a.createElement(be.a,null,"See ",o.a.createElement("a",{href:"https://github.com/saviola777/haxball-headless-manager",target:"_blank",rel:"noopener noreferrer"},"HHM docs")," for information about the HHM config."))),this.state.hhmConfig&&o.a.createElement(Ae,null)))}}]),a}(o.a.Component),Re=t(76),Ne=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).state={repoErrors:{},repositories:t.props.repositories.map(function(e){return t.parseRepositoryToUrl(e)})},t.handleRepositoryChange=t.handleRepositoryChange.bind(Object(f.a)(t)),t.handleAddRepository=t.handleAddRepository.bind(Object(f.a)(t)),t.createRepositories=t.createRepositories.bind(Object(f.a)(t)),t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"parseRepositoryToUrl",value:function(e){if(e.url)return e.url;var a="https://github.com/";return a+=e.repository,e.branch&&(a+="/".concat(e.branch)),e.path&&(a+="/".concat(e.path)),a}},{key:"validURL",value:function(e){return new RegExp("^(https?:\\/\\/)?((([a-z\\d]([a-z\\d-]*[a-z\\d])*)\\.)+[a-z]{2,}|((\\d{1,3}\\.){3}\\d{1,3}))(\\:\\d+)?(\\/[-a-z\\d%_.~+]*)*(\\?[;&a-z\\d%_.~+=-]*)?(\\#[-a-z\\d_]*)?$","i").test(e)}},{key:"handleRepositoryChange",value:function(e,a){var t=this;this.validURL(e)?this.setState(function(e){return{repoErrors:Object(ee.a)({},e.repoErrors,Object($.a)({},a,""))}}):this.setState(function(e){return{repoErrors:Object(ee.a)({},e.repoErrors,Object($.a)({},a,"Not a valid URL."))}}),this.setState(function(t){return{repositories:t.repositories.map(function(t,n){return n!==a?t:e})}},function(){return t.props.handleRepositoryChange(t.state.repositories)})}},{key:"handleAddRepository",value:function(){this.setState(function(e){return{repositories:[].concat(Object(Re.a)(e.repositories),[""])}})}},{key:"handleRemoveRepository",value:function(e){var a=this;this.setState(function(a){return{repositories:a.repositories.filter(function(a,t){return t!==e}),repoErrors:Object(ee.a)({},a.repoErrors,Object($.a)({},e,void 0))}},function(){return a.props.handleRepositoryChange(a.state.repositories)})}},{key:"createRepositories",value:function(e){var a=this;return e.map(function(e,t){return o.a.createElement(ae.a,{key:t},o.a.createElement(ye.a,null,o.a.createElement(Q.a,{type:"text",name:"repository"+t,id:"repository"+t,invalid:!!a.state.repoErrors[t],value:e,onChange:function(e){return a.handleRepositoryChange(e.target.value,t)}}),o.a.createElement(ve.a,{addonType:"append"},o.a.createElement(P.a,{onClick:function(){return a.handleRemoveRepository(t)}},o.a.createElement(Pe.a,{icon:"minus-square",size:"1x"})))))})}},{key:"render",value:function(){var e=this.createRepositories(this.state.repositories);return o.a.createElement("div",null,o.a.createElement("p",null,o.a.createElement(Pe.a,{icon:"list",size:"2x"})," HHM plugin repositories",o.a.createElement(P.a,{className:"float-right",onClick:this.handleAddRepository},o.a.createElement(Pe.a,{icon:"plus-square",size:"1x"}))),e,o.a.createElement(ae.a,{row:!0},o.a.createElement(g.a,{sm:"12"},o.a.createElement(be.a,null,"Define which plugin repositories to load. See ",o.a.createElement("a",{href:"https://github.com/saviola777/haxball-headless-manager",target:"_blank",rel:"noopener noreferrer"},"HHM docs")," for information about creating own repositories."))))}}]),a}(o.a.Component);function Ie(e){var a=e.name,t=e.placeholder,n=e.label,r=e.placeholder,l=e.onChange,i=e.value,s="undefined"===typeof e.valid||e.valid;return o.a.createElement("div",{className:"FormTextRow"},o.a.createElement(ae.a,{row:!0},o.a.createElement(te.a,{for:a,sm:"3"},n),o.a.createElement(g.a,{sm:"9"},s?o.a.createElement(Q.a,{value:i,type:t,name:a,onChange:l,placeholder:r}):o.a.createElement(Q.a,{invalid:!0,value:i,type:t,name:a,onChange:l,placeholder:r}))),e.children&&o.a.createElement(ae.a,{row:!0,className:"Form-explanation"},o.a.createElement(g.a,{sm:"3"}),o.a.createElement(g.a,{sm:"9"},o.a.createElement(be.a,null,e.children))))}var Me=function(e){function a(e){var t;return Object(s.a)(this,a),(t=Object(u.a)(this,Object(m.a)(a).call(this,e))).defaultGeo={code:"eu",lat:"0.0000",lon:"0.0000"},t.isoCountries={AF:"Afghanistan",AX:"Aland Islands",AL:"Albania",DZ:"Algeria",AS:"American Samoa",AD:"Andorra",AO:"Angola",AI:"Anguilla",AQ:"Antarctica",AG:"Antigua And Barbuda",AR:"Argentina",AM:"Armenia",AW:"Aruba",AU:"Australia",AT:"Austria",AZ:"Azerbaijan",BS:"Bahamas",BH:"Bahrain",BD:"Bangladesh",BB:"Barbados",BY:"Belarus",BE:"Belgium",BZ:"Belize",BJ:"Benin",BM:"Bermuda",BT:"Bhutan",BO:"Bolivia",BA:"Bosnia And Herzegovina",BW:"Botswana",BV:"Bouvet Island",BR:"Brazil",IO:"British Indian Ocean Territory",BN:"Brunei Darussalam",BG:"Bulgaria",BF:"Burkina Faso",BI:"Burundi",KH:"Cambodia",CM:"Cameroon",CA:"Canada",CV:"Cape Verde",KY:"Cayman Islands",CF:"Central African Republic",TD:"Chad",CL:"Chile",CN:"China",CX:"Christmas Island",CC:"Cocos (Keeling) Islands",CO:"Colombia",KM:"Comoros",CG:"Congo",CD:"Congo, Democratic Republic",CK:"Cook Islands",CR:"Costa Rica",CI:"Cote D'Ivoire",HR:"Croatia",CU:"Cuba",CY:"Cyprus",CZ:"Czech Republic",DK:"Denmark",DJ:"Djibouti",DM:"Dominica",DO:"Dominican Republic",EC:"Ecuador",EG:"Egypt",SV:"El Salvador",GQ:"Equatorial Guinea",ER:"Eritrea",EE:"Estonia",ET:"Ethiopia",EU:"Europe",FK:"Falkland Islands (Malvinas)",FO:"Faroe Islands",FJ:"Fiji",FI:"Finland",FR:"France",GF:"French Guiana",PF:"French Polynesia",TF:"French Southern Territories",GA:"Gabon",GM:"Gambia",GE:"Georgia",DE:"Germany",GH:"Ghana",GI:"Gibraltar",GR:"Greece",GL:"Greenland",GD:"Grenada",GP:"Guadeloupe",GU:"Guam",GT:"Guatemala",GG:"Guernsey",GN:"Guinea",GW:"Guinea-Bissau",GY:"Guyana",HT:"Haiti",HM:"Heard Island & Mcdonald Islands",VA:"Holy See (Vatican City State)",HN:"Honduras",HK:"Hong Kong",HU:"Hungary",IS:"Iceland",IN:"India",ID:"Indonesia",IR:"Iran, Islamic Republic Of",IQ:"Iraq",IE:"Ireland",IM:"Isle Of Man",IL:"Israel",IT:"Italy",JM:"Jamaica",JP:"Japan",JE:"Jersey",JO:"Jordan",KZ:"Kazakhstan",KE:"Kenya",KI:"Kiribati",KR:"Korea",KW:"Kuwait",KG:"Kyrgyzstan",LA:"Lao People's Democratic Republic",LV:"Latvia",LB:"Lebanon",LS:"Lesotho",LR:"Liberia",LY:"Libyan Arab Jamahiriya",LI:"Liechtenstein",LT:"Lithuania",LU:"Luxembourg",MO:"Macao",MK:"Macedonia",MG:"Madagascar",MW:"Malawi",MY:"Malaysia",MV:"Maldives",ML:"Mali",MT:"Malta",MH:"Marshall Islands",MQ:"Martinique",MR:"Mauritania",MU:"Mauritius",YT:"Mayotte",MX:"Mexico",FM:"Micronesia, Federated States Of",MD:"Moldova",MC:"Monaco",MN:"Mongolia",ME:"Montenegro",MS:"Montserrat",MA:"Morocco",MZ:"Mozambique",MM:"Myanmar",NA:"Namibia",NR:"Nauru",NP:"Nepal",NL:"Netherlands",AN:"Netherlands Antilles",NC:"New Caledonia",NZ:"New Zealand",NI:"Nicaragua",NE:"Niger",NG:"Nigeria",NU:"Niue",NF:"Norfolk Island",MP:"Northern Mariana Islands",NO:"Norway",OM:"Oman",PK:"Pakistan",PW:"Palau",PS:"Palestinian Territory, Occupied",PA:"Panama",PG:"Papua New Guinea",PY:"Paraguay",PE:"Peru",PH:"Philippines",PN:"Pitcairn",PL:"Poland",PT:"Portugal",PR:"Puerto Rico",QA:"Qatar",RE:"Reunion",RO:"Romania",RU:"Russian Federation",RW:"Rwanda",BL:"Saint Barthelemy",SH:"Saint Helena",KN:"Saint Kitts And Nevis",LC:"Saint Lucia",MF:"Saint Martin",PM:"Saint Pierre And Miquelon",VC:"Saint Vincent And Grenadines",WS:"Samoa",SM:"San Marino",ST:"Sao Tome And Principe",SA:"Saudi Arabia",SN:"Senegal",RS:"Serbia",SC:"Seychelles",SL:"Sierra Leone",SG:"Singapore",SK:"Slovakia",SI:"Slovenia",SB:"Solomon Islands",SO:"Somalia",ZA:"South Africa",GS:"South Georgia And Sandwich Isl.",ES:"Spain",LK:"Sri Lanka",SD:"Sudan",SR:"Suriname",SJ:"Svalbard And Jan Mayen",SZ:"Swaziland",SE:"Sweden",CH:"Switzerland",SY:"Syrian Arab Republic",TW:"Taiwan",TJ:"Tajikistan",TZ:"Tanzania",TH:"Thailand",TL:"Timor-Leste",TG:"Togo",TK:"Tokelau",TO:"Tonga",TT:"Trinidad And Tobago",TN:"Tunisia",TR:"Turkey",TM:"Turkmenistan",TC:"Turks And Caicos Islands",TV:"Tuvalu",UG:"Uganda",UA:"Ukraine",AE:"United Arab Emirates",GB:"United Kingdom",US:"United States",UM:"United States Outlying Islands",UY:"Uruguay",UZ:"Uzbekistan",VU:"Vanuatu",VE:"Venezuela",VN:"Viet Nam",VG:"Virgin Islands, British",VI:"Virgin Islands, U.S.",WF:"Wallis And Futuna",EH:"Western Sahara",YE:"Yemen",ZM:"Zambia",ZW:"Zimbabwe"},t.state=t.props.roomConfig,t.state.reposError="",t.handleInputChange=t.handleInputChange.bind(Object(f.a)(t)),t.handleGeoChange=t.handleGeoChange.bind(Object(f.a)(t)),t.handleFileInputChange=t.handleFileInputChange.bind(Object(f.a)(t)),t.handleroomScriptClear=t.handleroomScriptClear.bind(Object(f.a)(t)),t.handlePluginConfigChange=t.handlePluginConfigChange.bind(Object(f.a)(t)),t.handleRepositoryChange=t.handleRepositoryChange.bind(Object(f.a)(t)),t.handleSubmit=t.handleSubmit.bind(Object(f.a)(t)),t.pluginConfigColors={default:"#444444",error:"#FA1111",background:"#FCFDFD",background_warning:"#FEECEB",string:"#FA7921",number:"#70CE35",colon:"#49B8F7",keys:"#59A5D8",keys_whiteSpace:"835FB6",primitive:"#386FA4"},t}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentDidMount",value:function(){this.setState(this.props.roomConfig),this.setState({reposError:""})}},{key:"createMaxPlayersOptions",value:function(e){for(var a=[],t=0;t<e;t++)a.push(o.a.createElement("option",{key:t+1},t+1));return a}},{key:"createCountryCodeOptions",value:function(){var e=[];for(var a in e.push(o.a.createElement("option",{key:"default",value:"default"},"Default")),this.isoCountries)if(this.isoCountries.hasOwnProperty(a)){var t=a.toLowerCase();e.push(o.a.createElement("option",{key:t,value:t},this.isoCountries[a]))}return e}},{key:"handleInputChange",value:function(e){var a=this,t=e.target,n=t.name,o="checkbox"===t.type?t.checked:t.value;"token"===n&&(o=this.trimToken(o)),this.setState(Object($.a)({},n,o),function(){return a.props.saveConfig(a.state)})}},{key:"handleGeoChange",value:function(e){var a=this,t=e.target,n=t.name,o=t.value;"code"===n&&(o=t.options[t.options.selectedIndex].getAttribute("value"));var r=void 0;"default"!==o&&(void 0===(r=this.state.geo)&&(r={}),r[n]=o,void 0===r.lat&&(r.lat=this.defaultGeo.lat),void 0===r.lon&&(r.lon=this.defaultGeo.lon),void 0===r.code&&(r.code=this.defaultGeo.code)),this.setState(function(e){return Object(ee.a)({},e,{geo:r})},function(){return a.props.saveConfig(a.state)})}},{key:"handleFileInputChange",value:function(e){var a=this,t=e.target.name,n=e.target.files[0];if(n){var o=new FileReader;o.onloadend=function(e){var r={name:n.name,content:o.result};a.setState(Object($.a)({},t,r),function(){return a.props.saveConfig(a.state)})},o.readAsText(n)}}},{key:"parseUrlToRepository",value:function(e){var a=e.split("/"),t=e;return a<=2?t:("github.com"===a[2]?(t={type:"github",repository:"".concat(a[3],"/").concat(a[4])},a.length>6&&(t.branch=a[6]),a.length>7&&(t.path=a[7])):t={url:e},t)}},{key:"handleRepositoryChange",value:function(e){var a=this;this.setState(function(t){return{repositories:e.map(function(e){return a.parseUrlToRepository(e)})}},function(){return a.props.saveConfig(a.state)})}},{key:"handlePluginConfigChange",value:function(e){var a=this;this.setState(function(a){return{pluginConfig:e.jsObject}},function(){return a.props.saveConfig(a.state)})}},{key:"handleroomScriptClear",value:function(e){this.setState({roomScript:null}),e.target.files=[]}},{key:"trimToken",value:function(e){return e.trim().replace(/^"(.+(?="$))"$/,"$1")}},{key:"handleSubmit",value:function(e){e.preventDefault(),this.props.openRoom(this.state)}},{key:"render",value:function(){return o.a.createElement(oe.a,{className:"OpenRoomForm",onSubmit:this.handleSubmit},this.props.errorMessage&&o.a.createElement(h.a,null,o.a.createElement(g.a,{xs:"12"},o.a.createElement(Ce.a,{color:"danger"},this.props.errorMessage))),o.a.createElement(Ie,{type:"text",label:"Room name",name:"roomName",value:this.state.roomName,onChange:this.handleInputChange}),o.a.createElement(Ie,{type:"text",label:"Player name",name:"playerName",value:this.state.playerName,onChange:this.handleInputChange}),o.a.createElement(ae.a,{row:!0},o.a.createElement(te.a,{for:"maxPlayers",sm:"3"},"Max players"),o.a.createElement(g.a,{sm:"3"},o.a.createElement(Q.a,{defaultValue:"10",type:"select",name:"maxPlayers",className:"maxPlayers",value:this.state.maxPlayers,onChange:this.handleInputChange},this.createMaxPlayersOptions(20)))),o.a.createElement(ae.a,{row:!0},o.a.createElement(te.a,{for:"maxPlayers",sm:"3"},"Location"),o.a.createElement(g.a,{sm:"3"},o.a.createElement(Q.a,{type:"select",name:"code",className:"countryCode",value:this.state.geo?this.state.geo.code:"Default",onChange:this.handleGeoChange},this.createCountryCodeOptions())),o.a.createElement(g.a,{sm:"3"},o.a.createElement(Q.a,{type:"latitude",label:"Latitude",name:"lat",placeholder:"Latitude",value:this.state.geo?this.state.geo.lat:"",onChange:this.handleGeoChange})),o.a.createElement(g.a,{sm:"3"},o.a.createElement(Q.a,{type:"longitude",label:"Longitude",name:"lon",placeholder:"Longitude",value:this.state.geo?this.state.geo.lon:"",onChange:this.handleGeoChange}))),o.a.createElement(ae.a,{row:!0,className:"Form-explanation"},o.a.createElement(g.a,{sm:"3"}),o.a.createElement(g.a,{sm:"9"},o.a.createElement(be.a,null,"Override the country, latitude and longitude."," ",o.a.createElement("a",{href:"https://www.latlong.net/"},"latlong.net")))),o.a.createElement(Ie,{type:"password",label:"Password",name:"password",value:this.state.password,onChange:this.handleInputChange}),o.a.createElement(Ie,{type:"password",label:"Host password",name:"hostPassword",value:this.state.hostPassword,onChange:this.handleInputChange},"Authenticate to host role with ",o.a.createElement("code",null,"!auth admin [password]")),o.a.createElement(Ie,{type:"password",label:"Admin password",name:"adminPassword",value:this.state.adminPassword,onChange:this.handleInputChange},"Authenticate to admin role with ",o.a.createElement("code",null,"!auth admin [password]")),o.a.createElement(Ie,{type:"text",label:"Token",name:"token",valid:this.state.token,value:this.state.token,onChange:this.handleInputChange},"Obtain a token"," ",o.a.createElement("a",{href:"https://www.haxball.com/headlesstoken",target:"_blank",rel:"noopener noreferrer"},"here")," ","and insert it above."),o.a.createElement(Ne,{handleRepositoryChange:this.handleRepositoryChange,repositories:this.state.repositories}),o.a.createElement(ae.a,null,o.a.createElement(te.a,{for:"pluginConfigJSON"},o.a.createElement(Pe.a,{icon:"plug",size:"2x"})," Plugin config"),o.a.createElement(be.a,null,"Define which plugins to load from the available repositories and what options to give them. See"," ",o.a.createElement("a",{href:"https://github.com/morko/hhm-sala-plugins#hhm-sala-plugins",target:"_blank",rel:"noopener noreferrer"},"my plugin repository")," ","for examples of configurations for plugins."),o.a.createElement("div",{className:"PluginConfigField"},o.a.createElement(we.a,{id:"pluginConfigJSON",colors:this.pluginConfigColors,placeholder:this.state.pluginConfig,locale:Se.a,height:"400px",width:"100%",onChange:this.handlePluginConfigChange}))),o.a.createElement(ae.a,null,o.a.createElement(te.a,{for:"roomScript"},o.a.createElement(Pe.a,{icon:"plug",size:"2x"})," Room script"),o.a.createElement(ye.a,null,o.a.createElement(Oe.a,{type:"file",name:"roomScript",id:"roomScript",label:this.state.roomScript&&this.state.roomScript.name,onChange:this.handleFileInputChange}),o.a.createElement(ve.a,{addonType:"append"},o.a.createElement(P.a,{onClick:this.handleroomScriptClear},"Clear")))),o.a.createElement(ae.a,{row:!0},o.a.createElement(g.a,{sm:"12"},o.a.createElement(be.a,null,"Use this if you want to run a regular HaxBall room script.",o.a.createElement("b",null,"Disables plugins.")))),o.a.createElement(ae.a,{check:!0},o.a.createElement(te.a,{check:!0},o.a.createElement(Q.a,{type:"checkbox",name:"public",value:"true",onChange:this.handleInputChange})," ","Public room")),o.a.createElement(P.a,{className:"OpenRoomForm-submit",color:"success"},"Open Room"),o.a.createElement(je,{handleFileInputChange:this.handleFileInputChange,roomScript:this.state.roomScript,hhmConfig:this.state.hhmConfig}))}}]),a}(o.a.Component),Le=(t(103),function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"render",value:function(){return o.a.createElement("div",{className:"View OpenRoomView"},o.a.createElement(D,{title:"Room Settings",userProfile:this.props.userProfile}),o.a.createElement(p.a,null,o.a.createElement(h.a,null,o.a.createElement(g.a,{md:{size:8,offset:2}},o.a.createElement(Me,{openRoom:this.props.openRoom,saveConfig:this.props.saveConfig,roomConfig:this.props.room.roomConfig,errorMessage:this.props.room.openRoomError})))))}}]),a}(o.a.Component));var Te=Object(i.b)(function(e,a){return{userProfile:e.connection.userProfile,room:e.room}},function(e){return{openRoom:function(a){return e(function(e){return function(a,t){var n=t().connection.socket;n&&n.emit("client-action",{type:"OPEN_ROOM",payload:{roomConfig:e}})}}(a))},saveConfig:function(a){return e(function(e){return{type:fe,payload:{roomConfig:e}}}(a))}}})(Le);t(104);function Be(e){var a=e.text;return o.a.createElement("div",{className:"LoadingOverlay"},o.a.createElement("span",{className:"LoadingOverlay-disc"}),o.a.createElement("div",{className:"LoadingOverlay-text"},a))}t(105);var xe=t(72),Ge=t.n(xe),De=t(167);function Fe(){return o.a.createElement("footer",{className:"Footer page-footer"},o.a.createElement("div",{className:"Footer-container"},o.a.createElement("div",{className:"Footer-col Footer-copyright"},o.a.createElement("p",null,o.a.createElement("a",{href:"https://www.github.com/morko/haxroomie-web/blob/master/LICENSE"},"\xa9 2019 Oskari P\xf6ntinen"))),o.a.createElement("div",{className:"Footer-col Footer-kudos"},o.a.createElement("p",{className:"Footer-kudos-header"},"Thanks to"),o.a.createElement("p",null,o.a.createElement("a",{href:"https://github.com/saviola777"},"saviola777")," for",o.a.createElement("a",{href:"https://github.com/saviola777/haxball-headless-manager"}," HHM")),o.a.createElement("p",null,o.a.createElement("a",{href:"https://github.com/astein87"},"Alex")," for the logo")),o.a.createElement("div",{className:"Footer-col Footer-github"},o.a.createElement(De.a,null,o.a.createElement(De.a,{right:!0,href:"https://www.github.com/morko/haxroomie-web"},o.a.createElement(De.a,{object:!0,src:Ge.a,alt:"Project in GitHub"}))))))}var He=function(e){function a(){return Object(s.a)(this,a),Object(u.a)(this,Object(m.a)(a).apply(this,arguments))}return Object(d.a)(a,e),Object(c.a)(a,[{key:"componentWillMount",value:function(){this.props.openSocket()}},{key:"render",value:function(){return o.a.createElement("div",{className:"App"},this.props.userProfile?"":o.a.createElement(Be,{text:"Connecting..."}),this.props.openRoomInProcess?o.a.createElement(Be,{text:"Opening the room..."}):"",this.props.roomInfo?o.a.createElement(Ee,null):o.a.createElement(Te,null),o.a.createElement(Fe,null))}}]),a}(n.Component),Ue=t(73),Je=t.n(Ue),Ye="SOCKET_CONNECTED";var ze="SOCKET_DISCONNECTED";function Ve(){return function(e){var a=Je()();a.on("connect",function(){e(function(e){return{type:Ye,payload:{socket:e}}}(a))}),a.on("disconnect",function(){e({type:ze,payload:null})}),a.on("server-action",function(a){e(a)}),a.open()}}var Ke=Object(i.b)(function(e,a){return{userProfile:e.connection.userProfile,roomInfo:e.room.roomInfo,openRoomInProcess:e.room.openRoomInProcess}},function(e){return{openSocket:function(){return e(Ve())}}})(He);Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));t(134);var Ze=t(24),We=t(48),Qe=(t(74),{socket:null,userProfile:null});var _e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Qe,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case Ye:return Object.assign({},e,{socket:a.payload.socket});case ze:return Object.assign({},e,{socket:null,userProfile:null});case"ROOM_CONNECTED":return Object.assign({},e,{userProfile:a.payload.userProfile});case"ROOM_DISCONNECTED":return Object.assign({},e,{userProfile:null});default:return e}},Xe={roomInfo:null,openRoomInProcess:!1,openRoomError:"",closeRoomError:"",pageClosedError:"",pageCrashedError:"",roomConfig:{roomName:"haxroomie",playerName:"host",maxPlayer:8,public:!1,password:"",hostPassword:"",adminPassword:"",token:"",hhmConfig:null,roomScript:null,repositories:[],pluginConfig:{"sav/commands":{commandPrefix:"!"}}}};function qe(e){e.openRoomError="",e.closeRoomError="",e.pageClosedError="",e.pageCrashedError=""}var $e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xe,a=arguments.length>1?arguments[1]:void 0,t=Object.assign({},e,{});switch(a.type){case"ROOM_CONNECTED":return t.roomInfo=a.payload.roomInfo,t;case"PAGE_CLOSED":return t.openRoomInProcess=!1,t.roomInfo=null,t.pageClosedError=a.payload.error.msg,t;case"PAGE_CRASHED":return t.openRoomInProcess=!1,t.roomInfo=null,t.pageCrashedError=a.payload.error.msg,t;case"OPEN_ROOM_START":return qe(t),t.openRoomInProcess=!0,t;case"OPEN_ROOM_STOP":return t.openRoomInProcess=!1,t.roomInfo=a.payload.roomInfo,t;case"OPEN_ROOM_ERROR":return t.openRoomInProcess=!1,t.openRoomError=a.payload.error.msg,t;case"CLOSE_ROOM_STOP":return qe(t),t.roomInfo=null,a.error&&(t.closeRoomError=a.payload.error.msg),t.openRoomInProcess=!1,t;case"CLOSE_ROOM_ERROR":return t.closeRoomError=a.payload.error.msg,t;case"SAVE_CONFIG":return t.roomConfig=a.payload.roomConfig,t;default:return e}},ea={list:[],playerListError:""};var aa=function(){var e,a=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ea,t=arguments.length>1?arguments[1]:void 0,n=Object.assign({},a,{});switch(t.type){case"CALL_ROOM_RESULT":return"getPlayerList"!==t.payload.fn?a:(n.list=t.payload.result.filter(function(e){return 0!==e.id}).map(function(e){return(a=e).name=a.name.replace(/#[^#]*$/g,""),a;var a}),n);case"CALL_ROOM_ERROR":return"getPlayerList"!==t.payload.fn?a:(n.playerListError=t.payload.msg,n);case"PLAYER_JOIN":return n.list=n.list.slice(0),n.list.push(t.payload.player),n;case"PLAYER_LEAVE":return e=t.payload.player,n.list=n.list.filter(function(a){return a.id!==e.id}),n;case"PLAYER_ADMIN_CHANGE":return e=t.payload.changedPlayer,n.list=n.list.map(function(a){return a.id===e.id&&(a.admin=e.admin),a}),n;default:return a}},ta={list:[],getPluginsError:""};function na(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:ta,a=arguments.length>1?arguments[1]:void 0;switch(a.type){case"CALL_ROOM_CONTROLLER_RESULT":return function(e,a){switch(a.payload.fn){case"getPlugins":return Object.assign({},e,{getPluginsError:"",list:a.payload.result||[]});default:return e}}(e,a);case"CALL_ROOM_CONTROLLER_ERROR":return function(e,a){switch(a.payload.fn){case"getPlugins":return Object.assign({},e,{getPluginsError:a.payload.msg,list:a.payload.result||[]});default:return e}}(e,a);case"PLUGIN_EVENT":return function(e,a){var t=(a.payload.pluginData||{}).pluginSpec||{};switch(a.payload.eventType){case"pluginEnabled":return Object.assign({},e,{list:oa(e.list,t.name,{isEnabled:!0})});case"pluginDisabled":return Object.assign({},e,{list:oa(e.list,t.name,{isEnabled:!1})});case"pluginLoaded":return Object.assign({},e,{list:la(e.list,na)});case"pluginRemoved":return Object.assign({},e,{list:ia(e.list,na)});default:return e}}(e,a);default:return e}}function oa(e,a,t){return e.map(function(n,o){return n.pluginSpec.name===a?Object.assign({},e[o],t):n})}function ra(e,a){for(var t=0;t<e;t++)if(e[t].pluginSpec.name===a)return t;return-1}function la(e,a){var t=ra(a.pluginSpec.name);return t<0?e.concat([a]):e.slice()[t]=a}function ia(e,a){var t=ra(a.pluginSpec.name);return t<0?e.concat([a]):e.splice(t,1)}var sa,ca=na,ua=Object(Ze.c)({connection:_e,room:$e,player:aa,plugin:ca});sa=Object(Ze.a)(We.a);var ma=Object(Ze.d)(ua,sa),da=t(21),pa=t(28);da.b.add(pa.b),da.b.add(pa.d),da.b.add(pa.f),da.b.add(pa.e),da.b.add(pa.a),da.b.add(pa.c),l.a.render(o.a.createElement(i.a,{store:ma},o.a.createElement(Ke,null)),document.getElementById("root")),"serviceWorker"in navigator&&navigator.serviceWorker.ready.then(function(e){e.unregister()})},39:function(e,a,t){},67:function(e,a,t){e.exports=t.p+"static/media/logo.9fa2491e.png"},70:function(e,a,t){e.exports=t.p+"static/media/stripes.0afadfb3.png"},72:function(e,a){e.exports="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAAEAAAABACAYAAACqaXHeAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAyRpVFh0WE1MOmNvbS5hZG9iZS54bXAAAAAAADw/eHBhY2tldCBiZWdpbj0i77u/IiBpZD0iVzVNME1wQ2VoaUh6cmVTek5UY3prYzlkIj8+IDx4OnhtcG1ldGEgeG1sbnM6eD0iYWRvYmU6bnM6bWV0YS8iIHg6eG1wdGs9IkFkb2JlIFhNUCBDb3JlIDUuNS1jMDIxIDc5LjE1NDkxMSwgMjAxMy8xMC8yOS0xMTo0NzoxNiAgICAgICAgIj4gPHJkZjpSREYgeG1sbnM6cmRmPSJodHRwOi8vd3d3LnczLm9yZy8xOTk5LzAyLzIyLXJkZi1zeW50YXgtbnMjIj4gPHJkZjpEZXNjcmlwdGlvbiByZGY6YWJvdXQ9IiIgeG1sbnM6eG1wTU09Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC9tbS8iIHhtbG5zOnN0UmVmPSJodHRwOi8vbnMuYWRvYmUuY29tL3hhcC8xLjAvc1R5cGUvUmVzb3VyY2VSZWYjIiB4bWxuczp4bXA9Imh0dHA6Ly9ucy5hZG9iZS5jb20veGFwLzEuMC8iIHhtcE1NOkRvY3VtZW50SUQ9InhtcC5kaWQ6MzlFQkFERkU4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcE1NOkluc3RhbmNlSUQ9InhtcC5paWQ6MzlFQkFERkQ4NkJCMTFFM0FBNTJFRTMzNTJEMUJDNDYiIHhtcDpDcmVhdG9yVG9vbD0iQWRvYmUgUGhvdG9zaG9wIENTNiAoTWFjaW50b3NoKSI+IDx4bXBNTTpEZXJpdmVkRnJvbSBzdFJlZjppbnN0YW5jZUlEPSJ4bXAuaWlkOkU1MTc4QTJFOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIiBzdFJlZjpkb2N1bWVudElEPSJ4bXAuZGlkOkU1MTc4QTJGOTlBMDExRTI5QTE1QkMxMDQ2QTg5MDREIi8+IDwvcmRmOkRlc2NyaXB0aW9uPiA8L3JkZjpSREY+IDwveDp4bXBtZXRhPiA8P3hwYWNrZXQgZW5kPSJyIj8+Kk5lQwAABYxJREFUeNrkm29oVXUYx3+7bM3V1FnbqlltrtXWtYRa1nqxooY5E7EhKWGuaTDBagol9SIMDCKICASj+cISw/DPi16ZBakrUBnoC7nNoTMWy6I1c+LmVq6t78N9jpyu555znt855+536IHPi939/jzP95zznN+/kzc1NaUitirwJJgPasF94DZQDG7hMqNgBFwEZ5kU+AH0R+lcXgQCJMBT4EXwLKgM2N7P4FvwJegCk6YKUA5eB23grogu2C/gc7AN/GGKABTsZtAOZqjc2DjYAT5kUfSNBNCkAGwGo1PTZ6PsQ4FuHLp3QD3YDR5QZtgZsAac1ElYokcGbATHDApesS/kUwf7GEkOKAK7wAvKbNsPXgZjYQowG3wNnlDxsONgCbgchgAU/GHwiIqXUT5o8hLBKwfcDA7FMHgrUR/iGLQEoGTyBWhQ8bUGjiFPR4A3QIuKv7VwLKIcQMnue5Dv0fjT/IwtAM3g+RyMBmkU+BXf3qc5Rx3xqDPBE7LjfkaCheCcj1HYKYe6JeBt8GcEo75L3HaJQ7+nfNQ/x7H9p67TFX4L1Pi4EocdfhsGH4BPwVbwqu0xGwI/8vT2N/77Gv+vAJSCO3n6PJ//Vjz72w62cPtORnfAwx7+1nBsW93ugGow7vOKtPkYa9eDl0Clxji9kuvW+yjb5tPncY7xet3MhjoFt2RzgIlU2DQL/O6017W/Be4BawXJqMCgTH+ToOxajvWG1+AmYVBlBglQKrxwmzIFoB9XCzt91CABpL6sti62JcBiXtKS2GMGCSD1pZxjvi7AKmED9PraYJAAG2yvVL+2yi7AImHl90C3QQJ03/B+97ZF1lCYVlN6BBV/BffykNQkoyF4H5grqJOkO6BR2NF2A4O35gifCOs0JjTW9vYaPPPbJ11LJAFqBRVoDf68wQLQI3BBUL424XPiY1lvDOb/ZwRla0iAOYIKv8dAgEFB2VtJgJmCChMxEEAyHigmAQoFFWbFQIDZgrKF0p2hmTEQQOQjCTAmKD8vBgJUCcqOkQBXBBXosEORwcEXKdmBjCskwICgQr5h0+BMW6i8V7LtNkAC9As7WWqwAM8Jy/cnhBMhspVKvq2eC0uwbxLrSWhMa+dpdJQLW6mRpLtpOlyuMcL7CTwErhoSPG2ApjQEuD3BQ0fp0ZJqlT6pZYpt0wieYh60nuWDGp2+At4xIPgt7IvU0jHzBkFdgD27HWDGNGyGFHHfulaXuTN0IkBjZ8EykJeDwKmPFtAXwN8TTltjrVkKfwcawXJW3G3v8DTYCKoiCLwGvAl6QthpbnU6J5jP2f1uh1Wgxbbxwv0qvT/vtZRGA6wuzs50+Pkb8JdgQtPMq1VJld7bnxtSzhjgJD5hzwEW611OZK6xlSvzeYbAsl3Cx4PK7ozodOl6t93hfJByqbzOVnYh+MdHhxfBLI1bnuoMhRx8imPMKgDR5LG/nrSVfddHpx8HeO4/ClmApsw+snXsdk7gYMat+r5Hp0sDCLAkxOA7nfrI1nGxx2tmQUb5x8FuzgvD4Dw4wNm2MIAA1SEF38cx+RaAeBCMZGlwb44GOyUhBD/CsTj24TatpddXq3L+RIVmXnE4QzjJMaSylvBxFdqzKHsVrDD8Dmj36sOvIx0unewHDRENg4MI0BH2FyP0RcZOlzW3Ib7VLvPqDK0z1PEq7bDmLVwCLgnr0AhvnUp/0eJp0k9m6HO4fUp2nGZODgUY5PzUJVlHkxg1TEfnjxqY8I6yb12SSjqLm7T9/Ax4TaW/+JxuIx862KcL4toBk1QFT1omXZLRHQHaL3Npl/r8jH3QjiGsbJ3kGd/fDo6WBWi31KG9a9xXMgzfw35tVfCR9l52dk8Ibe7htnq57YowfY7i4+lYWUL9z+1fAQYACqstE4NCc18AAAAASUVORK5CYII="},77:function(e,a,t){e.exports=t(135)},82:function(e,a,t){},96:function(e,a,t){},97:function(e,a,t){},98:function(e,a,t){},99:function(e,a,t){}},[[77,1,2]]]);
//# sourceMappingURL=main.43e2aa42.chunk.js.map